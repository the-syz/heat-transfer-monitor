# 换热器性能监测系统设计图表说明

本文档包含组会汇报所需的系统架构图表和说明，重点展示数据库表结构设计和API接口数据流程。

## 一、数据库表结构关系图

### 1.1 ASCII示意图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       换热器监测系统数据库表结构                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                    heat_exchanger                           │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ type                                                        │           │
│   │ tube_side_fluid                                             │           │
│   │ shell_side_fluid                                            │           │
│   │ tube_section_count                                          │           │
│   │ shell_section_count                                         │           │
│   │ d_i_original                                                │           │
│   │ d_o                                                         │           │
│   │ lambda_t                                                    │           │
│   │ ...                                                         │           │
│   └──────────────────────────────┬──────────────────────────────┘           │
│                                  │ 1:n                                       │
│                                  ▼                                           │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                operation_parameters                         │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ heat_exchanger_id (FK) ─────────────────────────────────────┘           │
│   │ timestamp                                                   │           │
│   │ points                                                      │           │
│   │ side (tube/shell)                                           │           │
│   │ temperature                                                 │           │
│   │ pressure                                                    │           │
│   │ flow_rate                                                   │           │
│   │ velocity                                                    │           │
│   └──────────────────────────────┬──────────────────────────────┘           │
│                                  │ 1:1                                       │
│                                  ▼                                           │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                physical_parameters                          │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ heat_exchanger_id (FK) ─────────────────────────────────────┘           │
│   │ timestamp                                                   │           │
│   │ points                                                      │           │
│   │ side (tube/shell)                                           │           │
│   │ density                                                     │           │
│   │ viscosity                                                   │           │
│   │ thermal_conductivity                                        │           │
│   │ specific_heat                                               │           │
│   │ reynolds                                                    │           │
│   │ prandtl                                                     │           │
│   └──────────────────────────────┬──────────────────────────────┘           │
│                                  │                                           │
│                                  │ 1:1                                       │
│                                  ▼                                           │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                performance_parameters                       │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ heat_exchanger_id (FK) ─────────────────────────────────────┘           │
│   │ timestamp                                                   │           │
│   │ points                                                      │           │
│   │ side (tube/shell)                                           │           │
│   │ K                                                           │           │
│   │ alpha_i                                                     │           │
│   │ alpha_o                                                     │           │
│   │ heat_duty                                                   │           │
│   │ effectiveness                                               │           │
│   │ lmtd                                                        │           │
│   └──────────────────────────────┬──────────────────────────────┘           │
│                                  │                                           │
│                                  │ 1:1                                       │
│                                  ▼                                           │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                    k_management                             │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ heat_exchanger_id (FK) ─────────────────────────────────────┘           │
│   │ timestamp                                                   │           │
│   │ points                                                      │           │
│   │ side (tube/shell)                                           │           │
│   │ K_LMTD                                                      │           │
│   │ K_predicted                                                 │           │
│   │ K_actual                                                    │           │
│   └──────────────────────────────┬──────────────────────────────┘           │
│                                  │                                           │
│                                  │ 1:n                                       │
│                                  ▼                                           │
│   ┌─────────────────────────────────────────────────────────────┐           │
│   │                  model_parameters                           │           │
│   ├─────────────────────────────────────────────────────────────┤           │
│   │ id (PK)                                                     │           │
│   │ heat_exchanger_id (FK) ─────────────────────────────────────┘           │
│   │ timestamp                                                   │           │
│   │ a                                                           │           │
│   │ p                                                           │           │
│   │ b                                                           │           │
│   └─────────────────────────────────────────────────────────────┘           │
│                                                                             │
│  说明：                                                                      │
│  1. 所有表通过 heat_exchanger_id 外键关联到 heat_exchanger 表                │
│  2. operation_parameters、physical_parameters、performance_parameters、      │
│     k_management 表共享相同的复合唯一键：(heat_exchanger_id, timestamp,     │
│     points, side)                                                           │
│  3. model_parameters 表每天凌晨3点更新一次，唯一键为：(heat_exchanger_id,   │
│     timestamp)                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 1.2 表结构详细说明

#### 核心表及其作用

| 表名 | 中文名称 | 主要作用 | 关键字段 |
|------|----------|----------|----------|
| `heat_exchanger` | 换热器信息表 | 存储换热器几何参数和基本信息 | `id`, `type`, `tube_side_fluid`, `shell_side_fluid`, `d_i_original`, `d_o`, `lambda_t` |
| `operation_parameters` | 运行参数表 | 存储传感器采集的运行数据 | `heat_exchanger_id`, `points`, `side`, `timestamp`, `temperature`, `pressure`, `flow_rate`, `velocity` |
| `physical_parameters` | 物理参数表 | 存储计算得到的流体物性参数 | `density`, `viscosity`, `thermal_conductivity`, `specific_heat`, `reynolds`, `prandtl` |
| `performance_parameters` | 性能参数表 | 存储最终性能计算结果 | `K`, `alpha_i`, `alpha_o`, `heat_duty`, `effectiveness`, `lmtd` |
| `k_management` | K值管理表 | 存储LMTD法计算的K_actual和模型预测的K_predicted | `K_LMTD`, `K_predicted`, `K_actual` |
| `model_parameters` | 模型参数表 | 存储非线性回归模型参数 | `a`, `p`, `b` |

#### 详细表结构设计

##### 1. 换热器信息表 (`heat_exchanger`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键，换热器编号 | - |
| `type` | VARCHAR(50) | NOT NULL | 换热器种类 | - |
| `tube_side_fluid` | VARCHAR(50) | NOT NULL | 管侧工质 | - |
| `shell_side_fluid` | VARCHAR(50) | NOT NULL | 壳侧工质 | - |
| `tube_section_count` | INT | NOT NULL | 管侧分段数 | - |
| `shell_section_count` | INT | NOT NULL | 壳侧分段数 | - |
| `d_i_original` | FLOAT | NOT NULL | 原始内径 | m |
| `d_o` | FLOAT | NOT NULL | 外径（换热管外径） | m |
| `lambda_t` | FLOAT | NOT NULL | 管壁导热系数 | W/(m·K) |
| `heat_exchange_area` | FLOAT | NULL | 换热面积 | m² |
| `tube_passes` | INT | NULL | 管程数 | - |
| `shell_passes` | INT | NULL | 壳程数 | - |
| `tube_wall_thickness` | FLOAT | NULL | 换热管壁厚 | m |
| `tube_length` | FLOAT | NULL | 换热管长度 | m |
| `tube_count` | INT | NULL | 换热管数 | - |
| `tube_arrangement` | VARCHAR(50) | NULL | 换热管布置形式 | - |
| `tube_pitch` | FLOAT | NULL | 换热管间距 | m |
| `shell_inner_diameter` | FLOAT | NULL | 壳体内径 | m |
| `baffle_type` | VARCHAR(50) | NULL | 折流板类型 | - |
| `baffle_cut_ratio` | FLOAT | NULL | 折流板切口率 | - |
| `baffle_spacing` | FLOAT | NULL | 折流板间距 | m |

##### 2. 运行参数表 (`operation_parameters`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键 | - |
| `heat_exchanger_id` | INT | FK → `heat_exchanger.id` | 外键，连接换热器表 | - |
| `timestamp` | DATETIME | NOT NULL | 时间戳 | - |
| `points` | INT | NOT NULL | 测量点（整型） | - |
| `side` | ENUM('tube','shell') | NOT NULL | 侧标识 | - |
| `temperature` | FLOAT | NOT NULL | 温度 | °C |
| `pressure` | FLOAT | NOT NULL | 压力 | Pa |
| `flow_rate` | FLOAT | NOT NULL | 流量 | m³/s |
| `velocity` | FLOAT | NOT NULL | 流速 | m/s |

**唯一约束**: `(heat_exchanger_id, timestamp, points, side)`

##### 3. 物性参数表 (`physical_parameters`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键 | - |
| `heat_exchanger_id` | INT | FK → `heat_exchanger.id` | 外键，连接换热器表 | - |
| `timestamp` | DATETIME | NOT NULL | 时间戳 | - |
| `points` | INT | NOT NULL | 测量点（整型） | - |
| `side` | ENUM('tube','shell') | NOT NULL | 侧标识 | - |
| `density` | FLOAT | NOT NULL | 密度 | kg/m³ |
| `viscosity` | FLOAT | NOT NULL | 动力粘度 | Pa·s |
| `thermal_conductivity` | FLOAT | NOT NULL | 导热系数 | W/(m·K) |
| `specific_heat` | FLOAT | NOT NULL | 比热容 | J/(kg·K) |
| `reynolds` | FLOAT | NOT NULL | 雷诺数 | - |
| `prandtl` | FLOAT | NOT NULL | 普朗特数 | - |

**唯一约束**: `(heat_exchanger_id, timestamp, points, side)`

##### 4. 性能参数表 (`performance_parameters`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键 | - |
| `heat_exchanger_id` | INT | FK → `heat_exchanger.id` | 外键，连接换热器表 | - |
| `timestamp` | DATETIME | NOT NULL | 时间戳 | - |
| `points` | INT | NOT NULL | 测量点（整型） | - |
| `side` | ENUM('tube','shell') | NOT NULL | 侧标识 | - |
| `K` | FLOAT | NOT NULL | 总传热系数 | W/(m²·K) |
| `alpha_i` | FLOAT | NOT NULL | 管侧传热系数 | W/(m²·K) |
| `alpha_o` | FLOAT | NOT NULL | 壳侧传热系数 | W/(m²·K) |
| `heat_duty` | FLOAT | NOT NULL | 热负荷 | W |
| `effectiveness` | FLOAT | NOT NULL | 有效度 | - |
| `lmtd` | FLOAT | NOT NULL | 对数平均温差 | °C |

**唯一约束**: `(heat_exchanger_id, timestamp, points, side)`

##### 5. 模型参数表 (`model_parameters`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键 | - |
| `heat_exchanger_id` | INT | FK → `heat_exchanger.id` | 外键，连接换热器表 | - |
| `timestamp` | DATETIME | NOT NULL | 时间戳，每天三点更新一次 | - |
| `a` | FLOAT | NOT NULL | 模型参数a | - |
| `p` | FLOAT | NOT NULL | 模型参数p | - |
| `b` | FLOAT | NOT NULL | 模型参数b | - |

**唯一约束**: `(heat_exchanger_id, timestamp)`

##### 6. 总传热系数管理表 (`k_management`)
| 字段名 | 数据类型 | 约束 | 描述 | 单位 |
|--------|----------|------|------|------|
| `id` | INT | PK | 主键 | - |
| `heat_exchanger_id` | INT | FK → `heat_exchanger.id` | 外键，连接换热器表 | - |
| `timestamp` | DATETIME | NOT NULL | 时间戳 | - |
| `points` | INT | NOT NULL | 测量点（整型） | - |
| `side` | ENUM('tube','shell') | NOT NULL | 侧标识 | - |
| `K_LMTD` | FLOAT | NOT NULL | LMTD法计算的总传热系数 | W/(m²·K) |
| `K_predicted` | FLOAT | NOT NULL | 预测总传热系数 | W/(m²·K) |
| `K_actual` | FLOAT | NOT NULL | 实际总传热系数 | W/(m²·K) |

**唯一约束**: `(heat_exchanger_id, timestamp, points, side)`

#### 关联关系设计

1. **主外键关联**：
   - 所有数据表通过 `heat_exchanger_id` 外键关联到 `heat_exchanger` 表
   - 确保数据的一致性和完整性

2. **复合唯一键**：
   - 运行参数表、物性参数表、性能参数表、K管理表使用 `(heat_exchanger_id, points, side, timestamp)` 作为业务唯一标识
   - 模型参数表使用 `(heat_exchanger_id, timestamp)` 作为唯一标识
   - 支持同一时刻多测点、双侧别的数据存储

3. **数据流向**：
   ```
   operation_parameters (原始运行数据)
        ↓
   physical_parameters (物性计算)
        ↓
   k_management + performance_parameters (性能计算与预测)
        ↓
   model_parameters (模型参数更新)
   ```

4. **时间序列设计**：
   - 所有数据表包含 `timestamp` 字段，支持按时间范围查询
   - 时间格式：`YYYY-MM-DD HH:MM:SS`
   - 模型参数表每天凌晨3点更新一次

#### 设计亮点

1. **双数据库架构**：
   - 测试数据库 (`heat_exchanger_monitor_db_test`)：存储原始传感器数据
   - 生产数据库 (`heat_exchanger_monitor_db`)：存储计算结果和预测数据

2. **字段命名规范**：
   - 使用英文蛇形命名法（snake_case）
   - 物理量单位统一为国际单位制（SI）
   - 所有字段都有详细的中文描述

3. **扩展性考虑**：
   - 支持多台换热器并行监测
   - 支持多测点、双侧别数据存储
   - 预留字段支持未来功能扩展

4. **数据完整性**：
   - 使用外键约束保证数据一致性
   - 复合唯一键防止数据重复
   - 非空约束确保数据完整性

## 二、API接口数据流程图

### 2.1 ASCII流程图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          API接口数据流程图                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│   ┌─────────────┐    POST /process-data/{day}/{hour}   ┌─────────────┐     │
│   │   用户请求    │ ───────────────────────────────────▶│   FastAPI   │     │
│   │ (指定天/小时)  │                                    │   接口层     │     │
│   └─────────────┘                                    └──────┬──────┘     │
│                                                              │              │
│                                                              │ 调用         │
│                                                              ▼              │
│   ┌─────────────────────────────────────────────────────────────┐         │
│   │                   MainCalculator.process_data_by_hour()     │         │
│   └──────────────┬────────────────────────────────┬─────────────┘         │
│                  │                                │                        │
│                  │ 1.读取测试数据库                 │ 2.计算物理参数           │
│                  ▼                                ▼                        │
│   ┌──────────────────────┐        ┌─────────────────────────────┐         │
│   │  测试数据库           │        │   DataLoader.calculate_*()  │         │
│   │ (heat_exchanger_      │        │ • 流体物性 (pyfluids)       │         │
│   │  monitor_db_test)     │        │ • 雷诺数/普朗特数           │         │
│   │  - operation_parameters│       │ • 流量计算                 │         │
│   │  - physical_parameters│        └──────────────┬─────────────┘         │
│   └──────────────────────┘                       │                        │
│                                                  │ 3.存储到生产数据库        │
│                                                  ▼                        │
│   ┌──────────────────────┐        ┌─────────────────────────────┐         │
│   │  生产数据库           │        │     数据库操作              │         │
│   │ (heat_exchanger_     │◀───────│ • ON DUPLICATE KEY UPDATE   │         │
│   │  monitor_db)         │        │ • 事务提交/回滚             │         │
│   │  - 6张核心表          │        └─────────────────────────────┘         │
│   │    • heat_exchanger   │                                                  │
│   │    • operation_parameters│                                              │
│   │    • physical_parameters│                                               │
│   │    • performance_parameters│                                            │
│   │    • k_management      │                                                │
│   │    • model_parameters  │                                                │
│   └──────────────────────┘                                                  │
│                                                                             │
│   ┌─────────────┐    GET /calculate-performance/{day}/{hour}                │
│   │   性能计算请求  │ ──────────────────────────────────────────────────────┘
│   └─────────────┘                                                          │
│                             │                                              │
│                             │ 调用非线性回归模型                            │
│                             ▼                                              │
│   ┌─────────────────────────────────────────────────────────────┐         │
│   │                 nonlinear_regression.py                     │         │
│   │                 • 训练模型                                   │         │
│   │                 • 预测K值                                    │         │
│   └──────────────┬──────────────────────────────────────────────┘         │
│                  │                                                         │
│                  │ 更新K_predicted和性能参数                                │
│                  ▼                                                         │
│   ┌─────────────────────────────────────────────────────────────┐         │
│   │                 结果存储到生产数据库                          │         │
│   │                 • k_management.K_predicted                  │         │
│   │                 • performance_parameters                    │         │
│   │                 • model_parameters (a, p, b)               │         │
│   └─────────────────────────────────────────────────────────────┘         │
│                                                                             │
│   ┌─────────────┐    GET /{operation|physical|k|performance}-parameters    │
│   │   数据查询请求  │ ──────────────────────────────────────────────────────┘
│   └─────────────┘                                                          │
│                             │                                              │
│                             │ 直接查询生产数据库                            │
│                             ▼                                              │
│   ┌─────────────────────────────────────────────────────────────┐         │
│   │                 返回JSON格式数据                            │         │
│   │                 {status: "success", data: [...]}            │         │
│   └─────────────────────────────────────────────────────────────┘         │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 接口流程详细说明

#### 核心API接口分类

| 接口类型 | 接口示例 | 主要功能 | 数据流向 |
|----------|----------|----------|----------|
| **数据处理** | `POST /process-data/{day}/{hour}` | 处理指定时刻的原始数据 | 测试库 → 计算模块 → 生产库 |
| **性能计算** | `GET /calculate-performance/{day}/{hour}` | 触发性能计算和预测 | 生产库 → 回归模型 → 更新生产库 |
| **数据查询** | `GET /operation-parameters` 等6个接口 | 查询各类参数数据 | 直接查询生产库 → 返回JSON |
| **系统管理** | `GET /health` | 健康检查 | 快速响应状态信息 |

**数据查询接口列表**：
1. `GET /heat-exchangers` - 查询换热器信息
2. `GET /operation-parameters` - 查询运行参数
3. `GET /physical-parameters` - 查询物性参数
4. `GET /performance-parameters` - 查询性能参数
5. `GET /k-management` - 查询K值管理数据
6. `GET /model-parameters` - 查询模型参数

#### 数据处理流程详解

1. **原始数据读取**：
   - 从测试数据库的 `operation_parameters` 表读取指定天/小时的运行参数
   - 时间范围：`2022-01-{day} {hour}:00:00` 到 `2022-01-{day} {hour}:59:59`

2. **物理参数计算**：
   - **流体物性计算**：使用 `pyfluids` 库计算水的密度、粘度、导热系数、比热容
   - **流量计算**：根据流速、管径和温度计算质量流量
   - **无量纲数计算**：雷诺数 (`reynolds`)、普朗特数 (`prandtl`)

3. **数据存储优化**：
   - 使用 `ON DUPLICATE KEY UPDATE` 避免重复插入
   - 批量操作提升性能
   - 事务机制保证数据一致性

#### 性能计算流程详解

1. **数据准备**：
   - 从生产数据库的 `physical_parameters` 表加载物性数据
   - 从 `k_management` 表获取历史 `K_actual` 值作为训练标签

2. **非线性回归预测**：
   - 使用 `nonlinear_regression.py` 中的模型
   - 基于雷诺数和普朗特数预测传热系数
   - 模型公式：`K_predicted = a * Re^p + b`

3. **结果更新**：
   - 将 `K_predicted` 更新到 `k_management` 表
   - 计算并更新 `performance_parameters` 表中的性能参数

#### 查询接口设计特点

1. **统一查询模式**：
   ```python
   # 支持多种过滤条件
   GET /operation-parameters?heat_exchanger_id=1&day=15&hour=8
   GET /physical-parameters?day=15  # 查询全天数据
   GET /k-management?hour=8  # 查询所有第8小时的数据
   ```

2. **错误处理**：
   - 参数验证：day (1-31), hour (0-23)
   - 统一错误响应格式：
     ```json
     {
       "code": "INVALID_PARAMETERS",
       "type": "BadRequest",
       "message": "day参数必须在1-31之间",
       "timestamp": "2022-01-15T08:00:00"
     }
     ```

3. **响应格式标准化**：
   ```json
   {
     "status": "success",
     "count": 42,
     "data": [...]
   }
   ```

### 2.3 系统架构特点

#### 三层架构设计
```
┌─────────────────┐
│   API接口层     │ - FastAPI应用，RESTful接口
│   (api/main.py) │ - 请求验证和路由分发
└────────┬────────┘
         │
┌────────▼────────┐
│  业务逻辑层     │ - 计算模块 (calculation/)
│ (calculation/)  │ - 数据处理和性能计算
└────────┬────────┘
         │
┌────────▼────────┐
│  数据访问层     │ - 数据库连接 (db/db_connection.py)
│   (db/)         │ - 数据加载和存储 (db/data_loader.py)
└─────────────────┘
```

#### 关键技术选型
- **Web框架**：FastAPI（高性能，自动API文档生成）
- **数据库**：MySQL（关系型数据存储）
- **科学计算**：pandas, numpy, scipy
- **流体物性**：pyfluids
- **API文档**：自动生成 Swagger UI (`http://localhost:8000/docs`)

## 三、汇报使用建议

### 3.1 图表展示要点

1. **数据库表结构图**：
   - 强调外键关联设计和数据一致性保障
   - 说明时间序列数据的存储方案
   - 展示从原始数据到计算结果的数据流向

2. **API数据流程图**：
   - 展示完整的"数据采集→处理→计算→存储"闭环
   - 突出双数据库设计的优势
   - 说明非线性回归模型的集成方式

### 3.2 技术亮点强调

1. **模块化设计**：
   - 清晰的目录结构：`api/`, `calculation/`, `db/`, `config/`
   - 单一职责原则，每个模块功能明确

2. **错误处理机制**：
   - 统一的HTTP异常响应
   - 详细的错误代码和消息
   - 事务回滚保证数据一致性

3. **配置化管理**：
   - `config.json` 集中管理数据库连接和算法参数
   - 支持不同环境配置切换

4. **实时处理能力**：
   - 支持按小时粒度的数据处理
   - 增量计算，避免重复处理

### 3.3 演示建议

1. **API文档演示**：
   - 访问 `http://localhost:8000/docs` 展示Swagger UI
   - 演示接口调用和参数说明

2. **数据流程演示**：
   - 展示一次完整的数据处理流程
   - 对比处理前后的数据变化

3. **性能计算演示**：
   - 展示非线性回归模型的预测效果
   - 比较 `K_actual` 和 `K_predicted` 的吻合度

### 3.4 问答准备

1. **设计决策相关问题**：
   - 为什么选择FastAPI而不是Flask？
   - 双数据库设计的考虑是什么？
   - 表结构如何支持未来扩展？

2. **技术实现相关问题**：
   - 如何处理大数据量的性能问题？
   - 非线性回归模型的准确性如何？
   - 系统如何保证数据的一致性？

3. **应用场景相关问题**：
   - 系统可以监测多少台换热器？
   - 数据处理延迟是多少？
   - 如何集成到现有的监控系统？

---

**表结构设计来源**：
- 基于 `data/models.py` 中的 Tortoise ORM 模型定义
- 包含6个核心表：`heat_exchanger`, `operation_parameters`, `physical_parameters`, `performance_parameters`, `k_management`, `model_parameters`
- 所有字段定义、数据类型、约束和描述均与代码实现保持一致

**设计原则**：
1. **一致性**：表结构与代码模型完全一致
2. **完整性**：所有字段都有明确的单位和描述
3. **可扩展性**：支持多换热器、多测点、双侧别数据存储
4. **性能优化**：使用复合唯一键和索引优化查询性能

*本文档更新时间：2025年12月30日*  
*文档位置：`backend/系统设计图表说明.md`*  
*表结构来源：`data/models.py`*